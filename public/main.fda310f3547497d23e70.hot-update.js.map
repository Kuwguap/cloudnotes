{"version":3,"file":"main.fda310f3547497d23e70.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,gBAAgB,SAAI,IAAI,SAAI;AAC5B;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,6IAA6I,cAAc;AAC3J,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA,qBAAqB,SAAI,IAAI,SAAI;AACjC,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACsF;AACL;AACZ;AACxB;AACW;AACA;AACG;AACqJ;AAC1I;AACvB;AACsJ;AACnJ;AACE;AACwC;AACrD;AACS;AACiC;AAC/B;AACQ;AACtB;AAC2B;AACrB;AACW;AACD;AACC;AACL;AACK;AACD;AACE;AACH;AACA;AACP;AACO;AACE;AACI;AACT;AACW;AACP;AACI;AACxD;AACA,MAAM,iDAAiD;AACvD,MAAM,8CAA8C;AACpD,MAAM,gDAAgD;AACtD,MAAM,gDAAgD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sDAAI,UAAU,2GAA2G;AAC7I;AACA;AACA;AACA;AACA,CAAC,CAAC,wDAAe;AACjB;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA,mCAAmC;AACnC,oCAAoC;AACpC,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,sDAAe;AAC5B,aAAa,+CAAQ;AACrB,gBAAgB,sDAAa;AAC7B;AACA,mBAAmB,8DAAW;AAC9B,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ,GAAG;AACxB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB;AACA;AACA;AACA,KAAK;AACL,aAAa,+CAAQ;AACrB;AACA;AACA;AACA,KAAK;AACL,aAAa,+CAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB;AACA;AACA;AACA,KAAK;AACL,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,oBAAoB,6CAAM;AAC1B,aAAa,+CAAQ;AACrB;AACA,IAAI,gDAAS;AACb,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,6CAA6C,4DAAa;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;AACA,IAAI,gDAAS;AACb;AACA,YAAY,8DAAe;AAC3B;AACA,KAAK;AACL;AACA,2BAA2B,kDAAW,CAAC,sDAAQ,2BAA2B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,4BAA4B;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,yDAAU;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,6DAAc;AACtC;AACA,sDAAsD;AACtD;AACA,wIAAwI;AACxI,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT;AACA,4BAA4B,kDAAW,mBAAmB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,0EAA0E,gCAAgC;AAC1G;AACA;AACA;AACA;AACA;AACA,yCAAyC,yDAAU;AACnD;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,WAAW,kDAAkD;AACnH,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT;AACA,iBAAiB,yDAAS;AAC1B;AACA,YAAY,2DAAU;AACtB;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb,YAAY,qEAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,YAAY,2DAAW;AACvB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,YAAY,+DAAI;AAChB;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,YAAY,qEAAS;AACrB;AACA,aAAa;AACb,YAAY,oEAAS;AACrB,YAAY,oEAAS;AACrB;AACA,aAAa;AACb,YAAY,qEAAU;AACtB,YAAY,oEAAQ;AACpB,YAAY,oEAAQ;AACpB;AACA,aAAa;AACb,YAAY,gEAAK;AACjB;AACA,aAAa;AACb,YAAY,oEAAQ;AACpB,YAAY,uEAAW;AACvB,YAAY,qEAAS;AACrB,YAAY,kEAAO;AACnB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,YAAY,sEAAU;AACtB;AACA,aAAa;AACb,YAAY,qEAAS;AACrB,YAAY,2DAAK;AACjB,YAAY,oEAAS;AACrB,YAAY,sEAAW;AACvB,YAAY,qEAAS;AACrB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA,6DAA6D,wCAAwC;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA,KAAK;AACL;AACA,6BAA6B,kDAAW;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uCAAuC,WAAW,iEAAiE;AACnH;AACA;AACA;AACA;AACA,2BAA2B,kDAAW,mBAAmB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,oBAAoB,8DAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT;AACA,yBAAyB,kDAAW,uBAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,uDAAQ;AACjD;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA,qBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,yDAAU;AACvD;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA,qBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gEAAgE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT;AACA,wBAAwB,8CAAO;AAC/B,mDAAmD,kCAAkC;AACrF;AACA;AACA,yDAAyD,4CAA4C;AACrG;AACA;AACA,yDAAyD,wBAAwB;AACjF;AACA;AACA;AACA;AACA,6DAA6D,iFAAiF;AAC9I;AACA;AACA,6DAA6D,iFAAiF;AAC9I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,6BAA6B,kDAAW,uBAAuB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,uDAAQ,GAAG,oBAAoB;AACxE;AACA;AACA;AACA;AACA,6CAA6C,uDAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT;AACA,0BAA0B,kDAAW,mBAAmB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,wDAAS;AAClD;AACA;AACA,oCAAoC,4CAA4C;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT,2BAA2B,kDAAW;AACtC;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,2BAA2B,kDAAW;AACtC;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,4BAA4B,kDAAW;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,yBAAyB,kDAAW,mBAAmB;AACvD;AACA;AACA;AACA;AACA;AACA,qEAAqE,wBAAwB;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT,8BAA8B,kDAAW,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,yDAAa;AACtD;AACA;AACA;AACA,kEAAkE,+CAA+C;AACjH,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT,6BAA6B,kDAAW,0BAA0B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,wDAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT,4BAA4B,kDAAW,uBAAuB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,gDAAS;AACb;AACA,YAAY,8DAAe;AAC3B;AACA,KAAK;AACL,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,yDAAU;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,oDAAoD,2DAA2D;AAC/G;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,4BAA4B;AAC5F;AACA;AACA,yCAAyC,yDAAU;AACnD;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,4BAA4B;AAC5F;AACA;AACA;AACA,yCAAyC,yDAAU;AACnD;AACA;AACA,yBAAyB;AACzB;AACA;AACA,oDAAoD;AACpD;AACA,qBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,4BAA4B;AAC5F;AACA;AACA,4EAA4E,6BAA6B;AACzG,yCAAyC,yDAAU;AACnD;AACA;AACA,yBAAyB;AACzB;AACA;AACA,oDAAoD;AACpD;AACA,qBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,iCAAiC;AACjC;AACA,KAAK;AACL;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI,gDAAS;AACb,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,yDAAU;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,2DAAY;AACrD;AACA;AACA,yCAAyC,yDAAU;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA,yCAAyC,2DAAe;AACxD;AACA;AACA,wDAAwD,8CAA8C,gCAAgC,IAAI;AAC1I;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,yDAAU;AACnD;AACA;AACA;AACA,6CAA6C,2DAAY;AACzD;AACA;AACA;AACA,6CAA6C,yDAAU;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,wDAAS;AAClD;AACA;AACA;AACA,yCAAyC,uDAAQ;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,qEAAsB;AAC/D;AACA;AACA,yCAAyC,uDAAQ;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,2DAAe;AACxD;AACA;AACA,wDAAwD,8CAA8C,yDAAyD,IAAI;AACnK;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI,gDAAS;AACb;AACA,2CAA2C;AAC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","sources":["webpack://tsx-project/./src/pages/Notes.tsx","webpack://tsx-project/webpack/runtime/getFullHash"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { useEditor, EditorContent, BubbleMenu } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport Placeholder from '@tiptap/extension-placeholder';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useWindowSize, useLocalStorage } from 'react-use';\nimport { MagnifyingGlassIcon, PlusIcon, UserCircleIcon, ArrowLeftOnRectangleIcon, Bars3Icon, SunIcon, MoonIcon, LockClosedIcon, ChartBarIcon, DocumentTextIcon, CloudIcon, } from '@heroicons/react/24/outline';\nimport { StarIcon as StarIconSolid } from '@heroicons/react/24/solid';\nimport { useNavigate } from 'react-router-dom';\nimport { getNotes, createNote, updateNote, connectSocket, disconnectSocket, joinNoteSession, sendNoteChange, deleteNote as deleteNoteApi, shareNote, updateSharePermissions } from '../services/api';\nimport FolderTree from '../components/FolderTree';\nimport FolderModal from '../components/FolderModal';\nimport { getFolders, createFolder, deleteFolder as deleteFolderApi } from '../services/api';\nimport debounce from 'lodash/debounce';\nimport LockModal from '../components/LockModal';\nimport { lockNote, unlockNote, lockFolder, unlockFolder } from '../services/api';\nimport ShareModal from '../components/ShareModal';\nimport AdminDashboard from '../components/AdminDashboard';\nimport CloudView from './CloudView';\nimport { Image as TiptapImage } from '@tiptap/extension-image';\nimport Link from '@tiptap/extension-link';\nimport TextAlign from '@tiptap/extension-text-align';\nimport Underline from '@tiptap/extension-underline';\nimport CodeBlock from '@tiptap/extension-code-block';\nimport { Color } from '@tiptap/extension-color';\nimport TextStyle from '@tiptap/extension-text-style';\nimport Highlight from '@tiptap/extension-highlight';\nimport Typography from '@tiptap/extension-typography';\nimport TaskList from '@tiptap/extension-task-list';\nimport TaskItem from '@tiptap/extension-task-item';\nimport Table from '@tiptap/extension-table';\nimport TableRow from '@tiptap/extension-table-row';\nimport TableCell from '@tiptap/extension-table-cell';\nimport TableHeader from '@tiptap/extension-table-header';\nimport Youtube from '@tiptap/extension-youtube';\nimport { FontFamily } from '@tiptap/extension-font-family';\nimport Subscript from '@tiptap/extension-subscript';\nimport Superscript from '@tiptap/extension-superscript';\nvar CATEGORIES = [\n    { id: '1', name: 'Personal', color: 'bg-blue-500' },\n    { id: '2', name: 'Work', color: 'bg-green-500' },\n    { id: '3', name: 'Ideas', color: 'bg-purple-500' },\n    { id: '4', name: 'Tasks', color: 'bg-yellow-500' },\n];\nvar stripHtmlTags = function (html) {\n    var doc = new DOMParser().parseFromString(html, 'text/html');\n    return doc.body.textContent || '';\n};\n// Add ErrorBoundary component\nvar EditorErrorBoundary = /** @class */ (function (_super) {\n    __extends(EditorErrorBoundary, _super);\n    function EditorErrorBoundary(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { hasError: false };\n        return _this;\n    }\n    EditorErrorBoundary.getDerivedStateFromError = function () {\n        return { hasError: true };\n    };\n    EditorErrorBoundary.prototype.componentDidCatch = function (error) {\n        console.error('Editor error:', error);\n    };\n    EditorErrorBoundary.prototype.render = function () {\n        if (this.state.hasError) {\n            return (_jsx(\"div\", { className: \"p-4 text-red-500\", children: \"Something went wrong with the editor. Please refresh the page.\" }));\n        }\n        return this.props.children;\n    };\n    return EditorErrorBoundary;\n}(React.Component));\n// Add image compression function\nvar compressImage = function (file_1) {\n    var args_1 = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args_1[_i - 1] = arguments[_i];\n    }\n    return __awaiter(void 0, __spreadArray([file_1], args_1, true), Promise, function (file, maxWidth, maxHeight, quality) {\n        if (maxWidth === void 0) { maxWidth = 800; }\n        if (maxHeight === void 0) { maxHeight = 800; }\n        if (quality === void 0) { quality = 0.5; }\n        return __generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve, reject) {\n                    var reader = new FileReader();\n                    reader.readAsDataURL(file);\n                    reader.onload = function (e) {\n                        var _a;\n                        var img = new Image();\n                        img.src = (_a = e.target) === null || _a === void 0 ? void 0 : _a.result;\n                        img.onload = function () {\n                            var canvas = document.createElement('canvas');\n                            var width = img.width;\n                            var height = img.height;\n                            // Calculate new dimensions while maintaining aspect ratio\n                            if (width > height) {\n                                if (width > maxWidth) {\n                                    height = Math.round((height * maxWidth) / width);\n                                    width = maxWidth;\n                                }\n                            }\n                            else {\n                                if (height > maxHeight) {\n                                    width = Math.round((width * maxHeight) / height);\n                                    height = maxHeight;\n                                }\n                            }\n                            // Further reduce dimensions if the image is still large\n                            var MAX_PIXELS = 400000; // e.g., 632x632\n                            if (width * height > MAX_PIXELS) {\n                                var scale = Math.sqrt(MAX_PIXELS / (width * height));\n                                width = Math.round(width * scale);\n                                height = Math.round(height * scale);\n                            }\n                            canvas.width = width;\n                            canvas.height = height;\n                            var ctx = canvas.getContext('2d');\n                            if (!ctx) {\n                                reject(new Error('Could not get canvas context'));\n                                return;\n                            }\n                            // Use better image smoothing\n                            ctx.imageSmoothingEnabled = true;\n                            ctx.imageSmoothingQuality = 'high';\n                            // Draw image with white background to handle transparency\n                            ctx.fillStyle = '#FFFFFF';\n                            ctx.fillRect(0, 0, width, height);\n                            ctx.drawImage(img, 0, 0, width, height);\n                            // Convert to JPEG with quality setting\n                            var compressedDataUrl = canvas.toDataURL('image/jpeg', quality);\n                            // If still too large, reduce quality until it's under 100KB\n                            var currentQuality = quality;\n                            while (compressedDataUrl.length > 100 * 1024 && currentQuality > 0.1) {\n                                currentQuality *= 0.8;\n                                compressedDataUrl = canvas.toDataURL('image/jpeg', currentQuality);\n                            }\n                            resolve(compressedDataUrl);\n                        };\n                        img.onerror = function () {\n                            reject(new Error('Failed to load image'));\n                        };\n                    };\n                    reader.onerror = function () {\n                        reject(new Error('Failed to read file'));\n                    };\n                })];\n        });\n    });\n};\nvar Notes = function () {\n    var _a;\n    var _b = useState(true), sidebarOpen = _b[0], setSidebarOpen = _b[1];\n    var _c = useState(null), selectedNote = _c[0], setSelectedNote = _c[1];\n    var _d = useState([]), notes = _d[0], setNotes = _d[1];\n    var _e = useState(''), searchQuery = _e[0], setSearchQuery = _e[1];\n    var _f = useState(null), selectedCategory = _f[0], setSelectedCategory = _f[1];\n    var _g = useState(false), showTagInput = _g[0], setShowTagInput = _g[1];\n    var _h = useState(''), newTag = _h[0], setNewTag = _h[1];\n    var _j = useState('all'), viewMode = _j[0], setViewMode = _j[1];\n    var _k = useLocalStorage('theme', 'light'), theme = _k[0], setTheme = _k[1];\n    var _l = useState(false), showSettings = _l[0], setShowSettings = _l[1];\n    var width = useWindowSize().width;\n    var isMobile = width < 768;\n    var navigate = useNavigate();\n    var _m = useState(null), user = _m[0], setUser = _m[1];\n    var _o = useState(true), loading = _o[0], setLoading = _o[1];\n    var _p = useState(null), error = _p[0], setError = _p[1];\n    var _q = useState(false), isCollaborating = _q[0], setIsCollaborating = _q[1];\n    var _r = useState({}), activeCollaborators = _r[0], setActiveCollaborators = _r[1];\n    var _s = useState([]), folders = _s[0], setFolders = _s[1];\n    var _t = useState(null), selectedFolderId = _t[0], setSelectedFolderId = _t[1];\n    var _u = useState(false), folderModalOpen = _u[0], setFolderModalOpen = _u[1];\n    var _v = useState(null), editingFolder = _v[0], setEditingFolder = _v[1];\n    var _w = useState({\n        isOpen: false,\n        folderId: null,\n        folderName: '',\n    }), folderDeleteConfirmation = _w[0], setFolderDeleteConfirmation = _w[1];\n    var _x = useState({\n        isOpen: false,\n        noteId: null,\n        noteTitle: '',\n    }), deleteConfirmation = _x[0], setDeleteConfirmation = _x[1];\n    var _y = useState({\n        isOpen: false,\n        mode: 'lock',\n        type: 'note',\n        id: null,\n        title: '',\n    }), lockModal = _y[0], setLockModal = _y[1];\n    var _z = useState(null), selectedLockedNote = _z[0], setSelectedLockedNote = _z[1];\n    var _0 = useState(false), deleteLoading = _0[0], setDeleteLoading = _0[1];\n    var _1 = useState({\n        isOpen: false,\n        noteId: null,\n        noteTitle: '',\n    }), shareModal = _1[0], setShareModal = _1[1];\n    var _2 = useState('all'), viewFilter = _2[0], setViewFilter = _2[1];\n    var _3 = useState(false), showAdminDashboard = _3[0], setShowAdminDashboard = _3[1];\n    var _4 = useState(true), isComponentMounted = _4[0], setIsComponentMounted = _4[1];\n    var _5 = useState(false), hasError = _5[0], setHasError = _5[1];\n    var _6 = useState(false), isEditorReady = _6[0], setIsEditorReady = _6[1];\n    var _7 = useState(false), showCloudView = _7[0], setShowCloudView = _7[1];\n    var editorRef = useRef(null);\n    var _8 = useState(null), socket = _8[0], setSocket = _8[1];\n    // Initialize socket connection\n    useEffect(function () {\n        var initSocket = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var newSocket_1, err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, connectSocket()];\n                    case 1:\n                        newSocket_1 = _a.sent();\n                        setSocket(newSocket_1);\n                        return [2 /*return*/, function () {\n                                if (newSocket_1) {\n                                    newSocket_1.disconnect();\n                                }\n                            }];\n                    case 2:\n                        err_1 = _a.sent();\n                        console.error('Failed to connect socket:', err_1);\n                        setError('Failed to establish real-time connection');\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); };\n        initSocket();\n    }, []);\n    // Join note session when note is selected\n    useEffect(function () {\n        if (socket && selectedNote) {\n            joinNoteSession(socket, selectedNote.id);\n        }\n    }, [socket, selectedNote]);\n    // Update note content handler\n    var handleNoteUpdate = useCallback(debounce(function (noteId, data) { return __awaiter(void 0, void 0, void 0, function () {\n        var editor, noteToUpdate, response_1, err_2;\n        var _a, _b, _c, _d;\n        return __generator(this, function (_e) {\n            switch (_e.label) {\n                case 0:\n                    editor = editorRef.current;\n                    if (!editor || editor.isDestroyed)\n                        return [2 /*return*/];\n                    _e.label = 1;\n                case 1:\n                    _e.trys.push([1, 3, , 4]);\n                    noteToUpdate = notes.find(function (note) { return note.id === noteId; });\n                    if (!noteToUpdate)\n                        return [2 /*return*/];\n                    if (noteToUpdate.isLocked) {\n                        console.log('Preventing update of locked note:', noteId);\n                        setError('Cannot edit a locked note');\n                        editor.commands.setContent(noteToUpdate.content || '');\n                        return [2 /*return*/];\n                    }\n                    return [4 /*yield*/, updateNote(noteId, data)];\n                case 2:\n                    response_1 = _e.sent();\n                    console.log('Note updated successfully:', response_1.data.id);\n                    // Update notes list with updated note\n                    setNotes(function (prevNotes) {\n                        return prevNotes.map(function (note) {\n                            return note.id === noteId ? response_1.data : note;\n                        });\n                    });\n                    // Update selected note if it's the one being edited\n                    if ((selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id) === noteId) {\n                        setSelectedNote(response_1.data);\n                    }\n                    // Only send real-time updates if content doesn't contain images\n                    if (socket && !((_a = data.content) === null || _a === void 0 ? void 0 : _a.includes('data:image'))) {\n                        sendNoteChange(socket, {\n                            noteId: noteId,\n                            data: __assign(__assign({}, data), { \n                                // Strip out any image data from real-time updates\n                                content: (_b = data.content) === null || _b === void 0 ? void 0 : _b.replace(/<img[^>]+>/g, '[image]') })\n                        });\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_2 = _e.sent();\n                    console.error('Error updating note:', err_2);\n                    setError(((_d = (_c = err_2.response) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d.error) || 'Failed to update note');\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, 500), [notes, selectedNote, socket]);\n    // Handle image upload\n    var handleImageUpload = useCallback(function (file) { return __awaiter(void 0, void 0, void 0, function () {\n        var editor, compressedImage, updatedContent_1, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    editor = editorRef.current;\n                    if (!selectedNote || !editor || editor.isDestroyed || !isEditorReady)\n                        return [2 /*return*/];\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 5, 6, 7]);\n                    if (!file.type.startsWith('image/')) {\n                        throw new Error('Please select an image file');\n                    }\n                    setLoading(true);\n                    return [4 /*yield*/, compressImage(file)];\n                case 2:\n                    compressedImage = _a.sent();\n                    // Check final size\n                    if (compressedImage.length > 100 * 1024) {\n                        throw new Error('Image is too large. Please use a smaller image.');\n                    }\n                    // Insert image using insertContent\n                    editor.commands.insertContent({\n                        type: 'image',\n                        attrs: {\n                            src: compressedImage,\n                            alt: file.name.split('.')[0],\n                        }\n                    });\n                    // Wait for next tick to ensure content is updated\n                    return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, 0); })];\n                case 3:\n                    // Wait for next tick to ensure content is updated\n                    _a.sent();\n                    updatedContent_1 = editor.getHTML();\n                    // Save directly without real-time updates for image content\n                    return [4 /*yield*/, updateNote(selectedNote.id, {\n                            content: updatedContent_1,\n                            updatedAt: new Date()\n                        })];\n                case 4:\n                    // Save directly without real-time updates for image content\n                    _a.sent();\n                    // Update local state\n                    setNotes(function (prevNotes) {\n                        return prevNotes.map(function (note) {\n                            return note.id === selectedNote.id\n                                ? __assign(__assign({}, note), { content: updatedContent_1, updatedAt: new Date() }) : note;\n                        });\n                    });\n                    return [3 /*break*/, 7];\n                case 5:\n                    error_1 = _a.sent();\n                    console.error('Error uploading image:', error_1);\n                    setError(typeof error_1 === 'string' ? error_1 : 'Failed to upload image');\n                    return [3 /*break*/, 7];\n                case 6:\n                    setLoading(false);\n                    return [7 /*endfinally*/];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); }, [selectedNote, isEditorReady, notes]);\n    // Update editor configuration\n    var editor = useEditor({\n        extensions: [\n            StarterKit.configure({\n                heading: {\n                    levels: [1, 2, 3, 4, 5, 6],\n                },\n                dropcursor: false,\n            }),\n            Placeholder.configure({\n                placeholder: function (_a) {\n                    var editor = _a.editor;\n                    if (selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.isLocked) {\n                        return 'This note is locked';\n                    }\n                    return 'Start writing...';\n                },\n            }),\n            TiptapImage.configure({\n                inline: true,\n                allowBase64: true,\n                HTMLAttributes: {\n                    class: 'rounded-lg max-w-full h-auto my-4',\n                },\n            }),\n            Link.configure({\n                openOnClick: false,\n                HTMLAttributes: {\n                    class: 'text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300',\n                },\n            }),\n            TextAlign.configure({\n                types: ['heading', 'paragraph'],\n            }),\n            Underline,\n            Highlight.configure({\n                multicolor: true,\n            }),\n            Typography,\n            TaskList,\n            TaskItem.configure({\n                nested: true,\n            }),\n            Table.configure({\n                resizable: true,\n            }),\n            TableRow,\n            TableHeader,\n            TableCell,\n            Youtube.configure({\n                width: 640,\n                height: 480,\n                HTMLAttributes: {\n                    class: 'rounded-lg',\n                },\n            }),\n            FontFamily.configure({\n                types: ['textStyle'],\n            }),\n            TextStyle,\n            Color,\n            Subscript,\n            Superscript,\n            CodeBlock.configure({\n                HTMLAttributes: {\n                    class: 'rounded-lg bg-green-50 dark:bg-green-900/20 p-4 font-mono text-sm my-4 text-green-800 dark:text-green-200',\n                },\n            }),\n        ],\n        editable: !(selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.isLocked),\n        editorProps: {\n            attributes: {\n                class: 'prose dark:prose-invert max-w-none focus:outline-none min-h-[200px]',\n            },\n            handleDrop: function (view, event, slice, moved) { return __awaiter(void 0, void 0, void 0, function () {\n                var file;\n                var _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (!(!moved && ((_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.files.length))) return [3 /*break*/, 2];\n                            file = event.dataTransfer.files[0];\n                            if (!file.type.startsWith('image/')) return [3 /*break*/, 2];\n                            event.preventDefault();\n                            return [4 /*yield*/, handleImageUpload(file)];\n                        case 1:\n                            _b.sent();\n                            return [2 /*return*/, true];\n                        case 2: return [2 /*return*/, false];\n                    }\n                });\n            }); },\n            handlePaste: function (view, event) {\n                var _a;\n                var items = Array.from(((_a = event.clipboardData) === null || _a === void 0 ? void 0 : _a.items) || []);\n                var imageItem = items.find(function (item) { return item.type.startsWith('image/'); });\n                if (imageItem) {\n                    event.preventDefault();\n                    var file = imageItem.getAsFile();\n                    if (file) {\n                        handleImageUpload(file);\n                        return true;\n                    }\n                }\n                return false;\n            },\n        },\n        onCreate: function (_a) {\n            var editor = _a.editor;\n            editorRef.current = editor;\n            setIsEditorReady(true);\n        },\n        onDestroy: function () {\n            editorRef.current = null;\n            setIsEditorReady(false);\n        },\n        content: (selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.content) || '',\n    });\n    // Update content when note changes\n    useEffect(function () {\n        if (editor && selectedNote && !editor.isDestroyed) {\n            editor.commands.setContent(selectedNote.content || '');\n        }\n    }, [selectedNote, editor]);\n    // Add editor content update handler\n    var handleEditorUpdate = useCallback(function (_a) {\n        var editor = _a.editor;\n        if (!selectedNote || !isEditorReady || loading || !editor || editor.isDestroyed)\n            return;\n        if (selectedNote.isLocked) {\n            editor.commands.setContent(selectedNote.content || '');\n            return;\n        }\n        var content = editor.getHTML();\n        handleNoteUpdate(selectedNote.id, {\n            content: content,\n            updatedAt: new Date(),\n        });\n    }, [selectedNote, isEditorReady, loading, handleNoteUpdate]);\n    // Update editor event handlers\n    useEffect(function () {\n        if (editor && !editor.isDestroyed) {\n            editor.on('update', handleEditorUpdate);\n            return function () {\n                editor.off('update', handleEditorUpdate);\n            };\n        }\n    }, [editor, handleEditorUpdate]);\n    // Add editor cleanup effect\n    useEffect(function () {\n        return function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n    }, [editor]);\n    // Update sanitizeLockedNote helper\n    var sanitizeLockedNote = function (note) {\n        if (note.isLocked) {\n            return __assign(__assign({}, note), { content: '', description: '', tags: [], category: '', color: '' });\n        }\n        return note;\n    };\n    // Update handleNoteSelect to handle locked notes\n    var handleNoteSelect = useCallback(function (note) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            if (loading || !isEditorReady)\n                return [2 /*return*/];\n            try {\n                // Clear editor content before any state changes\n                if (editor && !editor.isDestroyed) {\n                    editor.commands.clearContent();\n                }\n                // If note is locked, show unlock modal\n                if (note.isLocked) {\n                    setSelectedLockedNote(note);\n                    setLockModal({\n                        isOpen: true,\n                        mode: 'unlock',\n                        type: 'note',\n                        id: note.id,\n                        title: note.title,\n                    });\n                    return [2 /*return*/];\n                }\n                // Save the selected note ID to localStorage\n                localStorage.setItem('lastSelectedNoteId', note.id);\n                setSelectedNote(note);\n                // Set editor content and editable state\n                requestAnimationFrame(function () {\n                    if (editor && !editor.isDestroyed && isEditorReady) {\n                        editor.commands.setContent(note.content || '');\n                        editor.setEditable(!note.isLocked);\n                    }\n                });\n                // Join note session if user is authenticated\n                if (user === null || user === void 0 ? void 0 : user.id) {\n                    joinNoteSession(note.id, user.id);\n                    setIsCollaborating(true);\n                }\n            }\n            catch (error) {\n                console.error('Error selecting note:', error);\n                setError('Failed to select note');\n            }\n            return [2 /*return*/];\n        });\n    }); }, [editor, loading, isEditorReady, user === null || user === void 0 ? void 0 : user.id]);\n    // Update handleLockNote to handle unlocking\n    var handleLockNote = useCallback(function (passcode) { return __awaiter(void 0, void 0, void 0, function () {\n        var response_2, response_3, err_3;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!lockModal.id)\n                        return [2 /*return*/];\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 6, 7, 8]);\n                    setLoading(true);\n                    console.log('Processing lock operation:', lockModal.mode, 'for note:', lockModal.id);\n                    if (!(lockModal.mode === 'lock')) return [3 /*break*/, 3];\n                    return [4 /*yield*/, lockNote(lockModal.id, passcode)];\n                case 2:\n                    response_2 = _c.sent();\n                    console.log('Note locked successfully:', response_2.data);\n                    // Update notes list with locked note\n                    setNotes(function (prevNotes) { return prevNotes.map(function (note) {\n                        return note.id === lockModal.id ? sanitizeLockedNote(response_2.data) : note;\n                    }); });\n                    // Clear editor and deselect note if it was locked\n                    if ((selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id) === lockModal.id) {\n                        setSelectedNote(null);\n                        if (editor && !editor.isDestroyed) {\n                            editor.commands.setContent('');\n                            editor.setEditable(false);\n                        }\n                        localStorage.removeItem('lastSelectedNoteId');\n                    }\n                    return [3 /*break*/, 5];\n                case 3: return [4 /*yield*/, unlockNote(lockModal.id, passcode)];\n                case 4:\n                    response_3 = _c.sent();\n                    console.log('Note unlocked successfully:', response_3.data);\n                    // Update notes list with unlocked note\n                    setNotes(function (prevNotes) { return prevNotes.map(function (note) {\n                        return note.id === lockModal.id ? response_3.data : note;\n                    }); });\n                    // Update selected note and editor content\n                    setSelectedNote(response_3.data);\n                    if (editor && !editor.isDestroyed) {\n                        editor.commands.setContent(response_3.data.content || '');\n                        editor.setEditable(true);\n                    }\n                    _c.label = 5;\n                case 5:\n                    // Reset lock modal state\n                    setLockModal({ isOpen: false, mode: 'lock', type: 'note', id: null, title: '' });\n                    setSelectedLockedNote(null);\n                    setError(null);\n                    return [3 /*break*/, 8];\n                case 6:\n                    err_3 = _c.sent();\n                    console.error('Lock operation failed:', err_3);\n                    setError(((_b = (_a = err_3.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to process lock operation');\n                    return [3 /*break*/, 8];\n                case 7:\n                    setLoading(false);\n                    return [7 /*endfinally*/];\n                case 8: return [2 /*return*/];\n            }\n        });\n    }); }, [lockModal.id, lockModal.mode, selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id, editor]);\n    // Update filtered notes computation\n    var filteredNotes = useMemo(function () {\n        var filtered = notes.map(function (note) { return sanitizeLockedNote(note); });\n        // Filter by folder\n        if (selectedFolderId) {\n            filtered = filtered.filter(function (note) { return note.folderId === selectedFolderId; });\n        }\n        else {\n            filtered = filtered.filter(function (note) { return !note.folderId; });\n        }\n        // Filter by view type\n        switch (viewFilter) {\n            case 'owned':\n                filtered = filtered.filter(function (note) { return note.authorId === (user === null || user === void 0 ? void 0 : user.id); });\n                break;\n            case 'shared':\n                filtered = filtered.filter(function (note) { return note.authorId !== (user === null || user === void 0 ? void 0 : user.id); });\n                break;\n            // 'all' shows everything\n        }\n        // Filter by search query\n        if (searchQuery) {\n            var query_1 = searchQuery.toLowerCase();\n            filtered = filtered.filter(function (note) {\n                var _a;\n                return note.title.toLowerCase().includes(query_1) ||\n                    (!note.isLocked && ((_a = note.content) === null || _a === void 0 ? void 0 : _a.toLowerCase().includes(query_1)));\n            });\n        }\n        return filtered;\n    }, [notes, selectedFolderId, viewFilter, searchQuery, user === null || user === void 0 ? void 0 : user.id]);\n    var handleFolderEdit = function (folder) {\n        setEditingFolder(folder);\n        setFolderModalOpen(true);\n    };\n    var handleFolderDelete = function (folderId, folderName) {\n        setFolderDeleteConfirmation({\n            isOpen: true,\n            folderId: folderId,\n            folderName: folderName,\n        });\n    };\n    var handleFolderSelect = useCallback(function (folderId) { return __awaiter(void 0, void 0, void 0, function () {\n        var response, response, err_4;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (loading || !isEditorReady)\n                        return [2 /*return*/];\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 6, , 7]);\n                    // Clear editor content before changing folder\n                    if (editor && !editor.isDestroyed) {\n                        editor.commands.clearContent();\n                    }\n                    setSelectedFolderId(folderId);\n                    setSelectedNote(null);\n                    if (!folderId) return [3 /*break*/, 3];\n                    return [4 /*yield*/, getNotes({ folderId: folderId })];\n                case 2:\n                    response = _c.sent();\n                    setNotes(response.data);\n                    return [3 /*break*/, 5];\n                case 3: return [4 /*yield*/, getNotes()];\n                case 4:\n                    response = _c.sent();\n                    setNotes(response.data);\n                    _c.label = 5;\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    err_4 = _c.sent();\n                    console.error('Error selecting folder:', err_4);\n                    setError(((_b = (_a = err_4.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to load notes for folder');\n                    return [3 /*break*/, 7];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); }, [loading, isEditorReady, editor]);\n    // Add note action handlers\n    var handleShareNote = useCallback(function (data) { return __awaiter(void 0, void 0, void 0, function () {\n        var err_5;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    if (!shareModal.noteId)\n                        return [2 /*return*/];\n                    return [4 /*yield*/, shareNote(shareModal.noteId, data)];\n                case 1:\n                    _a.sent();\n                    setShareModal({ isOpen: false, noteId: null, noteTitle: '' });\n                    return [3 /*break*/, 3];\n                case 2:\n                    err_5 = _a.sent();\n                    console.error('Error sharing note:', err_5);\n                    throw err_5;\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); }, [shareModal.noteId]);\n    var handleShareClick = useCallback(function (note) {\n        setShareModal({\n            isOpen: true,\n            noteId: note.id,\n            noteTitle: note.title || 'Untitled'\n        });\n    }, []);\n    var handleDeleteNote = useCallback(function (note) {\n        setDeleteConfirmation({\n            isOpen: true,\n            noteId: note.id,\n            noteTitle: note.title,\n        });\n    }, []);\n    var showLockNoteModal = useCallback(function (note) {\n        setLockModal({\n            isOpen: true,\n            mode: note.isLocked ? 'unlock' : 'lock',\n            type: 'note',\n            id: note.id,\n            title: note.title,\n        });\n    }, []);\n    var handleStarNote = useCallback(function (note) { return __awaiter(void 0, void 0, void 0, function () {\n        var error_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, handleNoteUpdate(note.id, { starred: !note.starred })];\n                case 1:\n                    _a.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_2 = _a.sent();\n                    console.error('Error starring note:', error_2);\n                    setError('Failed to star note');\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); }, [handleNoteUpdate]);\n    var handleConfirmDelete = useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var err_6;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!deleteConfirmation.noteId)\n                        return [2 /*return*/];\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 3, 4, 5]);\n                    setDeleteLoading(true);\n                    return [4 /*yield*/, deleteNoteApi(deleteConfirmation.noteId)];\n                case 2:\n                    _c.sent();\n                    setNotes(function (prevNotes) {\n                        return prevNotes.filter(function (note) { return note.id !== deleteConfirmation.noteId; });\n                    });\n                    if ((selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id) === deleteConfirmation.noteId) {\n                        setSelectedNote(null);\n                        if (editor && !editor.isDestroyed) {\n                            editor.commands.clearContent();\n                        }\n                    }\n                    setDeleteConfirmation({\n                        isOpen: false,\n                        noteId: null,\n                        noteTitle: '',\n                    });\n                    return [3 /*break*/, 5];\n                case 3:\n                    err_6 = _c.sent();\n                    console.error('Error deleting note:', err_6);\n                    setError(((_b = (_a = err_6.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to delete note');\n                    return [3 /*break*/, 5];\n                case 4:\n                    setDeleteLoading(false);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); }, [deleteConfirmation.noteId, selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id, editor]);\n    var handleConfirmShare = useCallback(function (permissions) { return __awaiter(void 0, void 0, void 0, function () {\n        var err_7;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!shareModal.noteId)\n                        return [2 /*return*/];\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, shareNote(shareModal.noteId, permissions)];\n                case 2:\n                    _c.sent();\n                    setShareModal({\n                        isOpen: false,\n                        noteId: null,\n                        noteTitle: '',\n                    });\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_7 = _c.sent();\n                    console.error('Error sharing note:', err_7);\n                    setError(((_b = (_a = err_7.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to share note');\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [shareModal.noteId]);\n    var handleConfirmLock = useCallback(function (passcode) { return __awaiter(void 0, void 0, void 0, function () {\n        var err_8;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!lockModal.id)\n                        return [2 /*return*/];\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 6, , 7]);\n                    if (!(lockModal.mode === 'lock')) return [3 /*break*/, 3];\n                    return [4 /*yield*/, handleNoteUpdate(lockModal.id, {\n                            isLocked: true,\n                            passcode: passcode,\n                        })];\n                case 2:\n                    _c.sent();\n                    return [3 /*break*/, 5];\n                case 3:\n                    if (!selectedLockedNote) return [3 /*break*/, 5];\n                    return [4 /*yield*/, handleNoteUpdate(lockModal.id, {\n                            isLocked: false,\n                            passcode: null,\n                        })];\n                case 4:\n                    _c.sent();\n                    setSelectedNote(selectedLockedNote);\n                    _c.label = 5;\n                case 5:\n                    setLockModal({\n                        isOpen: false,\n                        mode: 'lock',\n                        type: 'note',\n                        id: null,\n                        title: '',\n                    });\n                    setSelectedLockedNote(null);\n                    return [3 /*break*/, 7];\n                case 6:\n                    err_8 = _c.sent();\n                    console.error('Error locking/unlocking note:', err_8);\n                    setError(((_b = (_a = err_8.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to lock/unlock note');\n                    return [3 /*break*/, 7];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); }, [lockModal.id, lockModal.mode, selectedLockedNote, handleNoteUpdate]);\n    var handleSignOut = function () {\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        navigate('/auth');\n    };\n    // Join note session when a note is selected\n    useEffect(function () {\n        if ((selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id) && (user === null || user === void 0 ? void 0 : user.id)) {\n            joinNoteSession(selectedNote.id, user.id);\n        }\n    }, [selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id, user === null || user === void 0 ? void 0 : user.id]);\n    var createNewNote = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var response_4, err_9;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _c.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, createNote({\n                            title: 'Untitled Note',\n                            content: '',\n                            description: '',\n                            category: selectedCategory || undefined,\n                            tags: [],\n                            folderId: selectedFolderId || undefined,\n                            isLocked: false,\n                            isArchived: false,\n                            isPinned: false,\n                            starred: false\n                        })];\n                case 1:\n                    response_4 = _c.sent();\n                    console.log('Created note:', response_4.data);\n                    setNotes(function (prevNotes) { return __spreadArray([response_4.data], prevNotes, true); });\n                    setSelectedNote(response_4.data);\n                    // Set editor content after a small delay to ensure it's ready\n                    setTimeout(function () {\n                        editor === null || editor === void 0 ? void 0 : editor.commands.setContent('');\n                        editor === null || editor === void 0 ? void 0 : editor.commands.focus();\n                    }, 100);\n                    return [3 /*break*/, 3];\n                case 2:\n                    err_9 = _c.sent();\n                    console.error('Error creating note:', err_9);\n                    setError(((_b = (_a = err_9.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to create note');\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    var confirmDelete = function (note) {\n        setDeleteConfirmation({\n            isOpen: true,\n            noteId: note.id,\n            noteTitle: note.title,\n        });\n    };\n    var toggleStar = function (noteId) { return __awaiter(void 0, void 0, void 0, function () {\n        var noteToUpdate, response_5, err_10;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _c.trys.push([0, 2, , 3]);\n                    noteToUpdate = notes.find(function (note) { return note.id === noteId; });\n                    if (!noteToUpdate)\n                        return [2 /*return*/];\n                    return [4 /*yield*/, updateNote(noteId, {\n                            starred: !noteToUpdate.starred\n                        })];\n                case 1:\n                    response_5 = _c.sent();\n                    setNotes(function (prevNotes) {\n                        return prevNotes.map(function (note) {\n                            return note.id === noteId ? response_5.data : note;\n                        });\n                    });\n                    if ((selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id) === noteId) {\n                        setSelectedNote(response_5.data);\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    err_10 = _c.sent();\n                    setError(((_b = (_a = err_10.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to update note');\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    var addTag = function (noteId, tag) { return __awaiter(void 0, void 0, void 0, function () {\n        var noteToUpdate, updatedTags, response_6, err_11;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!tag.trim())\n                        return [2 /*return*/];\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 3, , 4]);\n                    noteToUpdate = notes.find(function (note) { return note.id === noteId; });\n                    if (!noteToUpdate)\n                        return [2 /*return*/];\n                    updatedTags = __spreadArray(__spreadArray([], noteToUpdate.tags, true), [tag], false);\n                    return [4 /*yield*/, updateNote(noteId, {\n                            tags: updatedTags,\n                            updatedAt: new Date()\n                        })];\n                case 2:\n                    response_6 = _c.sent();\n                    setNotes(function (prevNotes) { return prevNotes.map(function (note) {\n                        return note.id === noteId ? response_6.data : note;\n                    }); });\n                    if ((selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id) === noteId) {\n                        setSelectedNote(response_6.data);\n                    }\n                    setNewTag('');\n                    setShowTagInput(false);\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_11 = _c.sent();\n                    setError(((_b = (_a = err_11.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to add tag');\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    var removeTag = function (noteId, tagToRemove) { return __awaiter(void 0, void 0, void 0, function () {\n        var noteToUpdate, updatedTags, response_7, err_12;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _c.trys.push([0, 2, , 3]);\n                    noteToUpdate = notes.find(function (note) { return note.id === noteId; });\n                    if (!noteToUpdate)\n                        return [2 /*return*/];\n                    updatedTags = noteToUpdate.tags.filter(function (tag) { return tag !== tagToRemove; });\n                    return [4 /*yield*/, updateNote(noteId, {\n                            tags: updatedTags,\n                            updatedAt: new Date()\n                        })];\n                case 1:\n                    response_7 = _c.sent();\n                    setNotes(function (prevNotes) { return prevNotes.map(function (note) {\n                        return note.id === noteId ? response_7.data : note;\n                    }); });\n                    if ((selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id) === noteId) {\n                        setSelectedNote(response_7.data);\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    err_12 = _c.sent();\n                    setError(((_b = (_a = err_12.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to remove tag');\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    // Update editor content effect\n    useEffect(function () {\n        if (!editor || !selectedNote || loading || !isEditorReady)\n            return;\n        var content = selectedNote.content || '';\n        if (content !== editor.getHTML()) {\n            var timeoutId_1 = setTimeout(function () {\n                if (editor && !editor.isDestroyed && isEditorReady) {\n                    editor.commands.setContent(content);\n                }\n            }, 0);\n            return function () { return clearTimeout(timeoutId_1); };\n        }\n    }, [selectedNote, editor, loading, isEditorReady]);\n    // Update cleanup effect\n    useEffect(function () {\n        return function () {\n            if (editor && !editor.isDestroyed) {\n                setIsEditorReady(false);\n                editor.destroy();\n            }\n        };\n    }, [editor]);\n    // Add folder fetching effect\n    useEffect(function () {\n        var fetchFolders = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var response, err_13;\n            var _a, _b, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _d.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, getFolders()];\n                    case 1:\n                        response = _d.sent();\n                        setFolders(response.data);\n                        return [3 /*break*/, 3];\n                    case 2:\n                        err_13 = _d.sent();\n                        setError(((_b = (_a = err_13.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to fetch folders');\n                        if (((_c = err_13.response) === null || _c === void 0 ? void 0 : _c.status) === 401) {\n                            navigate('/auth');\n                        }\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); };\n        fetchFolders();\n    }, [navigate]);\n    // Update filtered notes effect\n    useEffect(function () {\n        if (!editor || filteredNotes.length === 0 || loading || !isEditorReady)\n            return;\n        // If no note is selected but we have filtered notes\n        if (!selectedNote && filteredNotes.length > 0) {\n            var firstNote_1 = filteredNotes[0];\n            // Don't auto-select locked notes that user doesn't own\n            if (firstNote_1.isLocked && firstNote_1.authorId !== (user === null || user === void 0 ? void 0 : user.id)) {\n                return;\n            }\n            setSelectedNote(firstNote_1);\n            requestAnimationFrame(function () {\n                if (editor && !editor.isDestroyed && isEditorReady) {\n                    editor.commands.setContent(firstNote_1.content || '');\n                }\n            });\n        }\n    }, [filteredNotes, selectedNote, editor, loading, isEditorReady, user === null || user === void 0 ? void 0 : user.id]);\n    var handleCreateFolder = function (parentId) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            // If called directly from FolderTree, open the modal with parentId\n            setEditingFolder(null);\n            setFolderModalOpen(true);\n            return [2 /*return*/];\n        });\n    }); };\n    var handleSubmitFolder = function (data) { return __awaiter(void 0, void 0, void 0, function () {\n        var folderData, response, foldersResponse, err_14;\n        var _a, _b, _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0:\n                    _d.trys.push([0, 3, , 4]);\n                    if (!data.name || !data.name.trim()) {\n                        setError('Folder name is required');\n                        return [2 /*return*/];\n                    }\n                    folderData = {\n                        name: data.name.trim(),\n                        description: (_a = data.description) === null || _a === void 0 ? void 0 : _a.trim(),\n                        parentId: data.parentId || undefined\n                    };\n                    return [4 /*yield*/, createFolder(folderData)];\n                case 1:\n                    response = _d.sent();\n                    return [4 /*yield*/, getFolders()];\n                case 2:\n                    foldersResponse = _d.sent();\n                    setFolders(foldersResponse.data);\n                    setFolderModalOpen(false);\n                    setEditingFolder(null);\n                    setError(null);\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_14 = _d.sent();\n                    console.error('Error creating folder:', err_14);\n                    setError(((_c = (_b = err_14.response) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.error) || 'Failed to create folder');\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleEditFolder = function (folder) {\n        setEditingFolder(folder);\n        setFolderModalOpen(true);\n    };\n    var handleDeleteFolder = function (folderId) { return __awaiter(void 0, void 0, void 0, function () {\n        var err_15;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, deleteFolderApi(folderId)];\n                case 1:\n                    _a.sent();\n                    setFolders(function (prevFolders) { return prevFolders.filter(function (folder) { return folder.id !== folderId; }); });\n                    if (selectedFolderId === folderId) {\n                        setSelectedFolderId(null);\n                    }\n                    setFolderDeleteConfirmation({\n                        isOpen: false,\n                        folderId: null,\n                        folderName: ''\n                    });\n                    return [3 /*break*/, 3];\n                case 2:\n                    err_15 = _a.sent();\n                    console.error('Error deleting folder:', err_15);\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleLockFolder = function (passcode) { return __awaiter(void 0, void 0, void 0, function () {\n        var response, err_16;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!lockModal.id)\n                        return [2 /*return*/];\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 7, , 8]);\n                    if (!(lockModal.mode === 'lock')) return [3 /*break*/, 3];\n                    return [4 /*yield*/, lockFolder(lockModal.id, passcode)];\n                case 2:\n                    _c.sent();\n                    return [3 /*break*/, 5];\n                case 3: return [4 /*yield*/, unlockFolder(lockModal.id, passcode)];\n                case 4:\n                    _c.sent();\n                    _c.label = 5;\n                case 5: return [4 /*yield*/, getFolders()];\n                case 6:\n                    response = _c.sent();\n                    setFolders(response.data);\n                    setLockModal({\n                        isOpen: false,\n                        mode: 'lock',\n                        type: 'note',\n                        id: null,\n                        title: ''\n                    });\n                    return [3 /*break*/, 8];\n                case 7:\n                    err_16 = _c.sent();\n                    console.error('Error processing folder lock:', err_16);\n                    setError(((_b = (_a = err_16.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to process lock operation');\n                    return [3 /*break*/, 8];\n                case 8: return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleShare = function (noteId, data) { return __awaiter(void 0, void 0, void 0, function () {\n        var response, error_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    console.log('Sharing note:', noteId, 'with:', data);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 4, , 5]);\n                    return [4 /*yield*/, shareNote(noteId, data)];\n                case 2:\n                    _a.sent();\n                    console.log('Share successful');\n                    return [4 /*yield*/, getNotes()];\n                case 3:\n                    response = _a.sent();\n                    setNotes(response.data);\n                    return [3 /*break*/, 5];\n                case 4:\n                    error_3 = _a.sent();\n                    console.error('Error sharing note:', error_3);\n                    throw error_3;\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleUpdatePermissions = function (userId, canEdit) { return __awaiter(void 0, void 0, void 0, function () {\n        var response, error_4;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!shareModal.noteId)\n                        return [2 /*return*/];\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 4, , 5]);\n                    return [4 /*yield*/, updateSharePermissions(shareModal.noteId, userId, canEdit)];\n                case 2:\n                    _a.sent();\n                    return [4 /*yield*/, getNotes()];\n                case 3:\n                    response = _a.sent();\n                    setNotes(response.data);\n                    return [3 /*break*/, 5];\n                case 4:\n                    error_4 = _a.sent();\n                    console.error('Error updating permissions:', error_4);\n                    throw error_4;\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    // Theme effect\n    useEffect(function () {\n        if (theme === 'dark') {\n            document.documentElement.classList.add('dark');\n        }\n        else {\n            document.documentElement.classList.remove('dark');\n        }\n    }, [theme]);\n    // Add error recovery function\n    var handleError = function () {\n        setHasError(false);\n        setSelectedNote(null);\n        setSelectedFolderId(null);\n        if (editor) {\n            editor.commands.clearContent();\n        }\n    };\n    var handleConfirmFolderDelete = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var err_17;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!folderDeleteConfirmation.folderId)\n                        return [2 /*return*/];\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, deleteFolderApi(folderDeleteConfirmation.folderId)];\n                case 2:\n                    _c.sent();\n                    setFolders(function (prevFolders) { return prevFolders.filter(function (folder) { return folder.id !== folderDeleteConfirmation.folderId; }); });\n                    if (selectedFolderId === folderDeleteConfirmation.folderId) {\n                        setSelectedFolderId(null);\n                    }\n                    setFolderDeleteConfirmation({\n                        isOpen: false,\n                        folderId: null,\n                        folderName: ''\n                    });\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_17 = _c.sent();\n                    console.error('Error deleting folder:', err_17);\n                    setError(((_b = (_a = err_17.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || 'Failed to delete folder');\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    // Update cleanup when note is deselected\n    useEffect(function () {\n        if (!selectedNote) {\n            localStorage.removeItem('lastSelectedNoteId');\n        }\n    }, [selectedNote]);\n    // Add initialization effect\n    useEffect(function () {\n        var isSubscribed = true;\n        var initializeData = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var token, userData, parsedUser, _a, notesResponse, foldersResponse, error_5, err_18;\n            var _b, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _d.trys.push([0, 6, , 7]);\n                        setLoading(true);\n                        token = localStorage.getItem('token');\n                        userData = localStorage.getItem('user');\n                        if (!token || !userData) {\n                            console.log('No auth tokens found, redirecting to login');\n                            navigate('/auth');\n                            return [2 /*return*/];\n                        }\n                        _d.label = 1;\n                    case 1:\n                        _d.trys.push([1, 4, , 5]);\n                        parsedUser = JSON.parse(userData);\n                        if (!parsedUser.id || !parsedUser.name || !parsedUser.email) {\n                            throw new Error('Invalid user data');\n                        }\n                        if (!isSubscribed) return [3 /*break*/, 3];\n                        setUser(parsedUser);\n                        return [4 /*yield*/, Promise.all([\n                                getNotes(),\n                                getFolders()\n                            ])];\n                    case 2:\n                        _a = _d.sent(), notesResponse = _a[0], foldersResponse = _a[1];\n                        if (isSubscribed) {\n                            setNotes(notesResponse.data);\n                            setFolders(foldersResponse.data);\n                            setLoading(false);\n                        }\n                        _d.label = 3;\n                    case 3: return [3 /*break*/, 5];\n                    case 4:\n                        error_5 = _d.sent();\n                        console.error('Error initializing:', error_5);\n                        localStorage.removeItem('token');\n                        localStorage.removeItem('user');\n                        navigate('/auth');\n                        return [3 /*break*/, 5];\n                    case 5: return [3 /*break*/, 7];\n                    case 6:\n                        err_18 = _d.sent();\n                        console.error('Error:', err_18);\n                        if (isSubscribed) {\n                            setError(((_c = (_b = err_18.response) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.error) || 'Failed to initialize');\n                            setLoading(false);\n                        }\n                        return [3 /*break*/, 7];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        }); };\n        initializeData();\n        return function () {\n            isSubscribed = false;\n        };\n    }, [navigate]);\n    // Add socket connection effect\n    useEffect(function () {\n        if (!(user === null || user === void 0 ? void 0 : user.id))\n            return;\n        var socket = connectSocket();\n        if (socket) {\n            socket.on('error', function (error) {\n                console.error('Socket error:', error);\n            });\n            socket.on('note:update', function (updatedNote) {\n                setNotes(function (prevNotes) {\n                    return prevNotes.map(function (note) {\n                        return note.id === updatedNote.id ? updatedNote : note;\n                    });\n                });\n                if ((selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id) === updatedNote.id) {\n                    setSelectedNote(updatedNote);\n                    if (editor && !editor.isDestroyed) {\n                        editor.commands.setContent(updatedNote.content || '');\n                        editor.setEditable(!updatedNote.isLocked);\n                    }\n                }\n            });\n            socket.on('note:delete', function (deletedNoteId) {\n                setNotes(function (prevNotes) { return prevNotes.filter(function (note) { return note.id !== deletedNoteId; }); });\n                if ((selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id) === deletedNoteId) {\n                    setSelectedNote(null);\n                    if (editor && !editor.isDestroyed) {\n                        editor.commands.setContent('');\n                        editor.setEditable(true);\n                    }\n                }\n            });\n        }\n        return function () {\n            if (socket) {\n                socket.off('error');\n                socket.off('note:update');\n                socket.off('note:delete');\n                disconnectSocket();\n            }\n        };\n    }, [user === null || user === void 0 ? void 0 : user.id, selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id, editor]);\n    // Update the loading screen render\n    if (loading) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center min-h-screen bg-white dark:bg-gray-900\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"div\", { className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4\" }), _jsx(\"p\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Loading your notes...\" })] }) }));\n    }\n    if (error) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center min-h-screen bg-white dark:bg-gray-900\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"p\", { className: \"text-red-500 mb-4\", children: error }), _jsx(\"button\", { onClick: function () {\n                            setError(null);\n                            window.location.reload();\n                        }, className: \"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700\", children: \"Retry\" })] }) }));\n    }\n    return (_jsxs(\"div\", { className: \"h-screen bg-white dark:bg-gray-900\", children: [showCloudView ? (_jsx(CloudView, { notes: filteredNotes, onBack: function () { return setShowCloudView(false); } })) : (_jsxs(\"div\", { className: \"flex\", children: [_jsxs(\"div\", { className: \"\".concat(sidebarOpen ? 'w-64' : 'w-0', \" transition-all duration-300 ease-in-out overflow-hidden border-r border-gray-200 dark:border-gray-700\"), children: [_jsx(\"div\", { className: \"p-4 border-b border-gray-200 dark:border-gray-700\", children: _jsxs(\"div\", { className: \"flex items-center\", children: [_jsx(CloudIcon, { className: \"h-6 w-6 text-purple-600\" }), _jsx(\"span\", { className: \"ml-2 text-xl font-bold bg-gradient-to-r from-purple-600 to-blue-500 bg-clip-text text-transparent\", children: \"CloudNotes\" })] }) }), _jsx(\"div\", { className: \"p-4 border-b border-gray-200 dark:border-gray-700\", children: _jsxs(\"div\", { className: \"flex items-center gap-3\", children: [_jsx(UserCircleIcon, { className: \"h-8 w-8 text-gray-600 dark:text-gray-300\" }), _jsxs(\"div\", { children: [_jsx(\"p\", { className: \"font-medium text-gray-900 dark:text-white\", children: user === null || user === void 0 ? void 0 : user.name }), _jsx(\"p\", { className: \"text-sm text-gray-500 dark:text-gray-400\", children: user === null || user === void 0 ? void 0 : user.email })] })] }) }), _jsxs(\"div\", { className: \"p-4 border-b border-gray-200 dark:border-gray-700\", children: [_jsx(\"div\", { className: \"flex items-center justify-between mb-4\", children: _jsx(\"h2\", { className: \"text-sm font-medium text-gray-900 dark:text-white\", children: \"Views\" }) }), _jsxs(\"div\", { className: \"space-y-2\", children: [_jsx(\"button\", { onClick: function () { return setViewFilter('all'); }, className: \"w-full text-left px-3 py-2 rounded-lg \".concat(viewFilter === 'all'\n                                                    ? 'bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300'\n                                                    : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800'), children: \"All Notes\" }), _jsx(\"button\", { onClick: function () { return setViewFilter('owned'); }, className: \"w-full text-left px-3 py-2 rounded-lg \".concat(viewFilter === 'owned'\n                                                    ? 'bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300'\n                                                    : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800'), children: \"My Notes\" }), _jsx(\"button\", { onClick: function () { return setViewFilter('shared'); }, className: \"w-full text-left px-3 py-2 rounded-lg \".concat(viewFilter === 'shared'\n                                                    ? 'bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300'\n                                                    : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800'), children: \"Shared with Me\" })] })] }), _jsx(\"div\", { className: \"p-4 border-b border-gray-200 dark:border-gray-700\", children: _jsx(FolderTree, { folders: folders, selectedFolderId: selectedFolderId, onFolderSelect: handleFolderSelect, onCreateFolder: handleCreateFolder, onEditFolder: handleEditFolder, onDeleteFolder: handleFolderDelete }) }), _jsxs(\"div\", { className: \"p-4 flex-1 overflow-y-auto\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"h2\", { className: \"text-sm font-medium text-gray-900 dark:text-white\", children: \"Notes\" }), _jsx(\"button\", { onClick: createNewNote, className: \"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded\", children: _jsx(PlusIcon, { className: \"h-4 w-4 text-gray-600 dark:text-gray-300\" }) })] }), _jsx(\"div\", { className: \"space-y-2\", children: filteredNotes.map(function (note) { return (_jsx(\"button\", { onClick: function () { return handleNoteSelect(note); }, className: \"w-full text-left p-3 rounded-lg transition-colors \".concat((selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.id) === note.id\n                                                ? 'bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300'\n                                                : 'hover:bg-gray-100 dark:hover:bg-gray-800'), children: _jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"div\", { className: \"flex-1 min-w-0\", children: [_jsx(\"h3\", { className: \"text-sm font-medium truncate text-gray-900 dark:text-white\", children: note.title || 'Untitled Note' }), _jsx(\"p\", { className: \"text-xs text-gray-500 dark:text-gray-400 truncate\", children: note.isLocked ? ' This note is locked' : stripHtmlTags(note.content || '') })] }), _jsxs(\"div\", { className: \"flex items-center gap-1 ml-2\", children: [note.isLocked && (_jsx(LockClosedIcon, { className: \"h-3.5 w-3.5 text-purple-500\" })), note.starred && (_jsx(StarIconSolid, { className: \"h-3.5 w-3.5 text-yellow-500\" }))] })] }) }, note.id)); }) })] })] }), _jsxs(\"div\", { className: \"flex-1 flex flex-col min-h-screen overflow-hidden\", children: [_jsx(\"div\", { className: \"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10\", children: _jsx(\"div\", { className: \"flex flex-col px-4 py-3\", children: _jsxs(\"div\", { className: \"flex items-center gap-4\", children: [_jsx(motion.button, { whileHover: { scale: 1.1 }, whileTap: { scale: 0.95 }, onClick: function () { return setShowCloudView(true); }, className: \"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\", title: \"Cloud view\", children: _jsx(CloudIcon, { className: \"h-5 w-5 text-gray-600 dark:text-gray-300\" }) }), !sidebarOpen && (_jsx(motion.button, { whileHover: { scale: 1.1 }, whileTap: { scale: 0.95 }, onClick: function () { return setSidebarOpen(true); }, className: \"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\", title: \"Expand sidebar\", children: _jsx(Bars3Icon, { className: \"h-5 w-5 text-gray-600 dark:text-gray-300\" }) })), _jsxs(\"div\", { className: \"flex-1 relative\", children: [_jsx(\"input\", { type: \"text\", placeholder: \"Search notes...\", value: searchQuery, onChange: function (e) { return setSearchQuery(e.target.value); }, className: \"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500\" }), _jsx(MagnifyingGlassIcon, { className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" })] }), _jsx(motion.button, { whileHover: { scale: 1.1 }, whileTap: { scale: 0.95 }, onClick: function () { return setTheme(theme === 'light' ? 'dark' : 'light'); }, className: \"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\", title: \"Toggle theme\", children: theme === 'light' ? (_jsx(MoonIcon, { className: \"h-5 w-5 text-gray-600\" })) : (_jsx(SunIcon, { className: \"h-5 w-5 text-gray-300\" })) }), (user === null || user === void 0 ? void 0 : user.email) === 'richierodney434@gmail.com' ? (_jsx(motion.button, { whileHover: { scale: 1.1 }, whileTap: { scale: 0.95 }, onClick: function () { return setShowAdminDashboard(true); }, className: \"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\", title: \"Admin Dashboard\", children: _jsx(ChartBarIcon, { className: \"h-5 w-5 text-gray-600 dark:text-gray-300\" }) })) : null, _jsx(motion.button, { whileHover: { scale: 1.1 }, whileTap: { scale: 0.95 }, onClick: handleSignOut, className: \"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\", title: \"Sign out\", children: _jsx(ArrowLeftOnRectangleIcon, { className: \"h-5 w-5 text-gray-600 dark:text-gray-300\" }) })] }) }) }), _jsx(\"div\", { className: \"flex-1 overflow-y-auto bg-white dark:bg-gray-900\", children: _jsx(\"div\", { className: \"max-w-4xl mx-auto p-6\", children: selectedNote ? (_jsxs(_Fragment, { children: [_jsx(\"input\", { type: \"text\", value: selectedNote.title, onChange: function (e) { return handleNoteUpdate(selectedNote.id, { title: e.target.value }); }, disabled: selectedNote.isLocked, className: \"w-full text-3xl font-bold mb-4 bg-transparent border-none focus:outline-none focus:ring-0 text-gray-900 dark:text-white \".concat(selectedNote.isLocked ? 'opacity-50 cursor-not-allowed' : ''), placeholder: \"Note title...\" }), _jsx(\"div\", { className: \"prose dark:prose-invert max-w-none \".concat(selectedNote.isLocked ? 'opacity-50 pointer-events-none' : ''), children: editor && (_jsx(EditorErrorBoundary, { children: _jsxs(\"div\", { className: \"relative\", children: [_jsxs(\"div\", { className: \"flex items-center gap-2 p-2 mb-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 overflow-x-auto\", children: [_jsx(\"button\", { onClick: function () { return editor.chain().focus().toggleBold().run(); }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \".concat(editor.isActive('bold') ? 'bg-purple-100 dark:bg-purple-900 text-purple-600' : ''), title: \"Bold (Ctrl+B)\", children: _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\", children: _jsx(\"path\", { d: \"M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5Zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5ZM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8Z\" }) }) }), _jsx(\"button\", { onClick: function () { return editor.chain().focus().toggleItalic().run(); }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \".concat(editor.isActive('italic') ? 'bg-purple-100 dark:bg-purple-900 text-purple-600' : ''), title: \"Italic (Ctrl+I)\", children: _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\", children: _jsx(\"path\", { d: \"M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z\" }) }) }), _jsx(\"button\", { onClick: function () { return editor.chain().focus().toggleUnderline().run(); }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \".concat(editor.isActive('underline') ? 'bg-purple-100 dark:bg-purple-900 text-purple-600' : ''), title: \"Underline (Ctrl+U)\", children: _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\", children: _jsx(\"path\", { d: \"M8 3v9a4 4 0 1 0 8 0V3h2v9a6 6 0 1 1-12 0V3h2zM4 20h16v2H4v-2z\" }) }) }), _jsx(\"div\", { className: \"w-px h-6 bg-gray-200 dark:bg-gray-700\" }), _jsxs(\"select\", { onChange: function (e) {\n                                                                            var level = parseInt(e.target.value);\n                                                                            level ? editor.chain().focus().toggleHeading({ level: level }).run() :\n                                                                                editor.chain().focus().setParagraph().run();\n                                                                        }, value: ((_a = [1, 2, 3].find(function (level) { return editor.isActive('heading', { level: level }); })) === null || _a === void 0 ? void 0 : _a.toString()) || '', className: \"p-2 rounded bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700\", children: [_jsx(\"option\", { value: \"\", children: \"Normal\" }), _jsx(\"option\", { value: \"1\", children: \"Heading 1\" }), _jsx(\"option\", { value: \"2\", children: \"Heading 2\" }), _jsx(\"option\", { value: \"3\", children: \"Heading 3\" })] }), _jsx(\"div\", { className: \"w-px h-6 bg-gray-200 dark:bg-gray-700\" }), _jsx(\"button\", { onClick: function () { return editor.chain().focus().toggleBulletList().run(); }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \".concat(editor.isActive('bulletList') ? 'bg-purple-100 dark:bg-purple-900 text-purple-600' : ''), title: \"Bullet List\", children: _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\", children: _jsx(\"path\", { d: \"M8 4h13v2H8V4zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z\" }) }) }), _jsx(\"button\", { onClick: function () { return editor.chain().focus().toggleOrderedList().run(); }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \".concat(editor.isActive('orderedList') ? 'bg-purple-100 dark:bg-purple-900 text-purple-600' : ''), title: \"Numbered List\", children: _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\", children: _jsx(\"path\", { d: \"M8 4h13v2H8V4zM5 3v3h1v1H3V6h1V4H3V3h2zm-2 7h3.5v1H3v-1zm2 3v3h1v1H3v-1h1v-2H3v-1h2zm-2 7h3.5v1H3v-1zm2 3v3h1v1H3v-1h1v-2H3v-1h2zM8 11h13v2H8v-2zm0 7h13v2H8v-2z\" }) }) }), _jsx(\"div\", { className: \"w-px h-6 bg-gray-200 dark:bg-gray-700\" }), _jsx(\"button\", { onClick: function () {\n                                                                            if (selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.isLocked)\n                                                                                return;\n                                                                            var input = document.createElement('input');\n                                                                            input.type = 'file';\n                                                                            input.accept = 'image/*';\n                                                                            input.onchange = function (e) { return __awaiter(void 0, void 0, void 0, function () {\n                                                                                var file;\n                                                                                var _a;\n                                                                                return __generator(this, function (_b) {\n                                                                                    switch (_b.label) {\n                                                                                        case 0:\n                                                                                            file = (_a = e.target.files) === null || _a === void 0 ? void 0 : _a[0];\n                                                                                            if (!file) return [3 /*break*/, 2];\n                                                                                            return [4 /*yield*/, handleImageUpload(file)];\n                                                                                        case 1:\n                                                                                            _b.sent();\n                                                                                            _b.label = 2;\n                                                                                        case 2: return [2 /*return*/];\n                                                                                    }\n                                                                                });\n                                                                            }); };\n                                                                            input.click();\n                                                                        }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\", title: \"Insert Image\", disabled: selectedNote === null || selectedNote === void 0 ? void 0 : selectedNote.isLocked, children: _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\", children: _jsx(\"path\", { d: \"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z\" }) }) }), _jsx(\"button\", { onClick: function () { return editor.chain().focus().toggleCodeBlock().run(); }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \".concat(editor.isActive('codeBlock') ? 'bg-purple-100 dark:bg-purple-900 text-purple-600' : ''), title: \"Code Block\", children: _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\", children: _jsx(\"path\", { d: \"M8.5 3.5l-6.8 6.8c-.3.3-.3.7 0 1l6.8 6.8 1.5-1.5L4.3 11l5.7-5.7-1.5-1.8zm7 0l6.8 6.8c.3.3.3.7 0 1l-6.8 6.8-1.5-1.5L19.7 11 14 5.3l1.5-1.8z\" }) }) }), _jsx(\"button\", { onClick: function () { return editor.chain().focus().toggleCode().run(); }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \".concat(editor.isActive('code') ? 'bg-purple-100 dark:bg-purple-900 text-purple-600' : ''), title: \"Inline Code\", children: _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\", children: _jsx(\"path\", { d: \"M24 12l-5.657 5.657-1.414-1.414L21.172 12l-4.243-4.243 1.414-1.414L24 12zM2.828 12l4.243 4.243-1.414 1.414L0 12l5.657-5.657L7.07 7.757 2.828 12zm6.96 9H7.66l6.552-18h2.128L9.788 21z\" }) }) })] }), _jsx(EditorContent, { editor: editor }), editor.isFocused && !editor.state.selection.empty && (_jsxs(BubbleMenu, { editor: editor, tippyOptions: {\n                                                                    duration: 100,\n                                                                    placement: 'top',\n                                                                    appendTo: function () { return document.body; },\n                                                                }, className: \"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-2 flex items-center gap-1\", children: [_jsx(\"button\", { onClick: function () { return editor.chain().focus().toggleBold().run(); }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \".concat(editor.isActive('bold') ? 'bg-purple-100 dark:bg-purple-900 text-purple-600' : ''), children: \"B\" }), _jsx(\"button\", { onClick: function () { return editor.chain().focus().toggleItalic().run(); }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \".concat(editor.isActive('italic') ? 'bg-purple-100 dark:bg-purple-900 text-purple-600' : ''), children: \"I\" }), _jsx(\"button\", { onClick: function () { return editor.chain().focus().toggleUnderline().run(); }, className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \".concat(editor.isActive('underline') ? 'bg-purple-100 dark:bg-purple-900 text-purple-600' : ''), children: \"U\" })] }))] }) })) })] })) : (_jsxs(\"div\", { className: \"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400\", children: [_jsx(DocumentTextIcon, { className: \"h-12 w-12 mb-4\" }), _jsx(\"p\", { children: \"Select a note or create a new one\" })] })) }) })] })] })), _jsx(LockModal, { isOpen: lockModal.isOpen, onClose: function () {\n                    setLockModal({ isOpen: false, mode: 'lock', type: 'note', id: null, title: '' });\n                    setSelectedLockedNote(null);\n                }, onSubmit: handleLockNote, title: \"\".concat(lockModal.mode === 'lock' ? 'Lock' : 'Unlock', \" \").concat(lockModal.title), mode: lockModal.mode }), _jsx(ShareModal, { isOpen: shareModal.isOpen, onClose: function () { return setShareModal({ isOpen: false, noteId: null, noteTitle: '' }); }, onSubmit: handleShareNote, title: \"Share \\\"\".concat(shareModal.noteTitle, \"\\\"\"), noteId: shareModal.noteId, noteTitle: shareModal.noteTitle }), _jsx(AnimatePresence, { children: deleteConfirmation.isOpen && (_jsx(motion.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", children: _jsxs(motion.div, { initial: { scale: 0.95 }, animate: { scale: 1 }, exit: { scale: 0.95 }, className: \"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4\", children: [_jsx(\"h3\", { className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\", children: \"Delete Note\" }), _jsxs(\"p\", { className: \"text-gray-500 dark:text-gray-400 mb-4\", children: [\"Are you sure you want to delete \\\"\", deleteConfirmation.noteTitle, \"\\\"? This action cannot be undone.\"] }), _jsxs(\"div\", { className: \"flex justify-end gap-3\", children: [_jsx(\"button\", { onClick: function () { return setDeleteConfirmation({ isOpen: false, noteId: null, noteTitle: '' }); }, className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 rounded-lg\", children: \"Cancel\" }), _jsx(\"button\", { onClick: handleConfirmDelete, className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg\", children: deleteLoading ? (_jsxs(\"span\", { className: \"flex items-center gap-2\", children: [_jsxs(\"svg\", { className: \"animate-spin h-4 w-4\", viewBox: \"0 0 24 24\", children: [_jsx(\"circle\", { className: \"opacity-25\", cx: \"12\", cy: \"12\", r: \"10\", stroke: \"currentColor\", strokeWidth: \"4\" }), _jsx(\"path\", { className: \"opacity-75\", fill: \"currentColor\", d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" })] }), \"Deleting...\"] })) : ('Delete Note') })] })] }) })) }), _jsx(FolderModal, { isOpen: folderModalOpen, onClose: function () {\n                    setFolderModalOpen(false);\n                    setEditingFolder(null);\n                }, onSubmit: handleSubmitFolder, folders: folders, editingFolder: editingFolder, title: editingFolder ? 'Edit Folder' : 'Create Folder' }), _jsx(AnimatePresence, { children: folderDeleteConfirmation.isOpen && (_jsx(motion.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", children: _jsxs(motion.div, { initial: { scale: 0.95 }, animate: { scale: 1 }, exit: { scale: 0.95 }, className: \"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4\", children: [_jsx(\"h3\", { className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\", children: \"Delete Folder\" }), _jsxs(\"p\", { className: \"text-gray-500 dark:text-gray-400 mb-4\", children: [\"Are you sure you want to delete \\\"\", folderDeleteConfirmation.folderName, \"\\\"? All notes in this folder will be moved to the root level.\"] }), _jsxs(\"div\", { className: \"flex justify-end gap-3\", children: [_jsx(\"button\", { onClick: function () { return setFolderDeleteConfirmation({ isOpen: false, folderId: null, folderName: '' }); }, className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 rounded-lg\", children: \"Cancel\" }), _jsx(\"button\", { onClick: handleConfirmFolderDelete, className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg\", children: \"Delete Folder\" })] })] }) })) }), _jsx(AdminDashboard, { isOpen: showAdminDashboard, onClose: function () { return setShowAdminDashboard(false); } })] }));\n};\nexport default Notes;\n","__webpack_require__.h = () => (\"b25e978d0a1b86379bba\")"],"names":[],"sourceRoot":""}